# Лабораторная работа 3: Продвинутое ООП

## Описание

Лабораторная работа включает 5 заданий на продвинутые концепции объектно-ориентированного программирования: наследование, полиморфизм, композицию, абстрактные классы, интерфейсы и пользовательские исключения.

## Задания

### Задание 1: Наследование - Student и Magistracy
**Описание:** Реализация наследования с классом Student и его наследником Magistracy.

**Класс Student:**
- Поля: `firstName`, `lastName`, `group`, `averageMark`
- Метод `getScholarship()`: возвращает 100 руб. при среднем балле ≥ 8, иначе 80 руб.

**Класс Magistracy** (extends Student):
- Дополнительное поле: `scientificWork` (название научной работы)
- Переопределенный метод `getScholarship()`: возвращает 200 руб. при среднем балле ≥ 8, иначе 180 руб.

**Демонстрация полиморфизма:**
```java
Student student = new Magistracy("Анна", "Иванова", "М-101", 8.5, "Машинное обучение");
System.out.println(student.getScholarship());  // 200 руб. (вызывается метод Magistracy)
```

**Пример работы:**
```
Студент: Иван Петров, группа: Б-201, средний балл: 7.9, стипендия: 80 руб.
Магистрант: Алексей Кузнецов, группа: М-101, научная работа: 'Анализ больших данных',
средний балл: 8.7, стипендия: 200 руб.
```

### Задание 2: Композиция - Car, Lorry, SportCar
**Описание:** Реализация композиции объектов и наследования.

**Иерархия классов:**
- `Person` - базовый класс с ФИО
- `Driver extends Person` - водитель с стажем вождения
- `Engine` - двигатель с мощностью и производителем
- `Car` - автомобиль с маркой, классом, весом, водителем и двигателем
- `Lorry extends Car` - грузовик с грузоподъемностью
- `SportCar extends Car` - спортивный автомобиль с максимальной скоростью

**Методы Car:**
- `start()` - "Поехали"
- `stop()` - "Останавливаемся"
- `turnRight()` - "Поворот направо"
- `turnLeft()` - "Поворот налево"
- `toString()` - полная информация об автомобиле

**Пример работы:**
```
Автомобиль: Ferrari 488, класс: S, вес: 1470.0 кг
Водитель: Козлов Алексей Петрович, стаж: 10 лет
Двигатель: Ferrari, мощность: 650 л.с.
Максимальная скорость: 330 км/ч

Поехали
Поворот налево
Поворот направо
Останавливаемся
```

### Задание 3: Абстрактные классы - Фрукты
**Описание:** Реализация абстрактного класса Fruit и его наследников.

**Абстрактный класс Fruit:**
- Поле: `weight` (вес в кг)
- Завершенный метод: `printManufacturerInfo()` - выводит "Made in RB"
- Абстрактный метод: `getCost()` - вычисляет стоимость с учетом веса

**Классы-наследники:**
- `Apple extends Fruit` - яблоко (2.5 руб./кг)
- `Pear extends Fruit` - груша (3.0 руб./кг)
- `Plum extends Fruit` - слива (4.0 руб./кг)

**Функциональность:**
- Подсчет общей стоимости всех проданных фруктов
- Подсчет стоимости отдельно по каждому виду фруктов

**Пример работы:**
```
Яблоко: вес=1.50 кг, стоимость=3.75 руб.
Производитель: Made in RB

Груша: вес=1.20 кг, стоимость=3.60 руб.
Производитель: Made in RB

Итоговая стоимость:
Общая стоимость всех фруктов: 25.40 руб.
Стоимость яблок: 13.25 руб.
Стоимость груш: 8.10 руб.
Стоимость слив: 4.05 руб.
```

### Задание 4: Интерфейсы - Printable
**Описание:** Реализация интерфейса Printable и работа с полиморфизмом.

**Интерфейс Printable:**
- Метод `void print()` - выводит информацию об объекте
- Метод `String getTitle()` - возвращает название

**Классы реализации:**
- `Book implements Printable` - книга с названием и автором
- `Magazine implements Printable` - журнал с названием и номером выпуска

**Статические методы фильтрации:**
- `Magazine.printMagazines(Printable[])` - выводит только журналы
- `BookStatic.printBooks(Printable[])` - выводит только книги

**Использование instanceof:**
```java
for (Printable item : printableItems) {
    if (item instanceof Book) {
        // Обработка книги
    } else if (item instanceof Magazine) {
        // Обработка журнала
    }
}
```

**Пример работы:**
```
Все элементы массива:
Книга: 'Война и мир', автор: Л. Толстой
Журнал: 'Наука и техника', номер: 45
Книга: 'Преступление и наказание', автор: Ф. Достоевский

Список журналов:
- Наука и техника
- Компьютерный мир
- Автомобили

Список книг:
- Война и мир
- Преступление и наказание
- Мастер и Маргарита
```

### Задание 5: Пользовательские исключения
**Описание:** Создание и обработка пользовательских исключений для валидации данных.

**Пользовательские исключения:**
- `WrongLoginException` - ошибка валидации логина
- `WrongPasswordException` - ошибка валидации пароля

**Правила валидации:**

**Для login:**
- Длина < 20 символов
- Только латинские буквы, цифры и знак подчеркивания

**Для password:**
- Длина < 20 символов
- Только латинские буквы, цифры и знак подчеркивания
- Должен совпадать с confirmPassword

**Метод валидации:**
```java
boolean validateCredentials(String login, String password, String confirmPassword)
```

**Обработка:**
- Используется несколько блоков `catch`
- Обработка исключений внутри метода
- Возвращает `true` при успешной валидации, `false` при ошибке

**Пример работы:**
```
Тест 1:
Логин: 'user_123', Пароль: 'password_123', Подтверждение: 'password_123'
Результат валидации: УСПЕХ

Тест 2:
Логин: 'user@123', Пароль: 'password_123', Подтверждение: 'password_123'
Ошибка логина: Логин должен содержать только латинские буквы, цифры и знак подчеркивания
Результат валидации: ОШИБКА

Тест 3:
Логин: 'user123', Пароль: 'password', Подтверждение: 'different'
Ошибка пароля: Пароль и подтверждение пароля не совпадают
Результат валидации: ОШИБКА
```

## Запуск программы

### Компиляция
```bash
javac LaboratoryWork3.java
```

### Запуск
```bash
java LaboratoryWork3
```

### Интерактивное меню
После запуска программа выводит меню с выбором заданий:
```
Лабораторная работа 3 - Меню заданий:
1. Наследование - Student и Magistracy
2. Композиция - Car, Lorry, SportCar
3. Абстрактные классы - Фрукты
4. Интерфейсы - Printable
5. Пользовательские исключения

Выберите задание (1-5) или 0 для выхода:
```

## Ключевые концепции ООП

### 1. Наследование
Класс Magistracy наследует от Student все поля и методы, расширяя функциональность.

### 2. Полиморфизм
Переменная типа Student может ссылаться на объект Magistracy, при этом вызываются переопределенные методы наследника.

### 3. Композиция
Класс Car содержит объекты Driver и Engine, демонстрируя отношение "has-a".

### 4. Абстрактные классы
Класс Fruit определяет общий интерфейс для всех фруктов, но не может быть инстанцирован напрямую.

### 5. Интерфейсы
Интерфейс Printable определяет контракт для классов Book и Magazine.

### 6. Обработка исключений
Пользовательские исключения позволяют создавать специфичную логику обработки ошибок.

## Паттерны проектирования

### Template Method
Абстрактный класс Fruit определяет шаблон для всех фруктов.

### Strategy
Интерфейс Printable позволяет использовать разные стратегии вывода для Book и Magazine.

## Особенности реализации

### Использование instanceof
Для проверки типа объекта в runtime и выполнения специфичной логики.

### Регулярные выражения
Pattern и Matcher для валидации строк в задании 5.

### Множественные конструкторы исключений
Каждое исключение имеет конструктор по умолчанию и с сообщением.

## Требования
- Java 11 или выше
- Понимание основ ООП
- Все задания выполняются в одной программе с интерактивным меню

## Структура кода
- Классы логически организованы по заданиям
- Используются вложенные статические классы
- Полная документация JavaDoc
- Следование принципам SOLID

## Автор
Student

## Версия
1.0
