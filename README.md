# –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ - –í–∞—Ä–∏–∞–Ω—Ç 5
## –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

> **üìã –í–ê–ñ–ù–û:** –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å [–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ](INSTALLATION.md), –≥–¥–µ –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞–Ω–æ —á—Ç–æ –Ω—É–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞.

### –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø–∞—Ç—Ç–µ—Ä–Ω–∞ DAO (Data Access Object) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º JDBC –∏ MySQL.

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Java 11
- JDBC (Java Database Connectivity)
- MySQL 8.0
- Maven

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
javalab/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ main/
‚îÇ       ‚îú‚îÄ‚îÄ java/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ by/bsuir/travel/
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ entity/
‚îÇ       ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Travel.java          # Entity –∫–ª–∞—Å—Å —Ç—É—Ä–∏—Å—Ç–∞
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ dao/
‚îÇ       ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ AbstractDAO.java     # –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å DAO
‚îÇ       ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ TravelDAO.java       # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è DAO –¥–ª—è Travel
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ util/
‚îÇ       ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ConnectionDB.java    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –ë–î
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ Main.java                # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–µ–π
‚îÇ       ‚îî‚îÄ‚îÄ resources/
‚îÇ           ‚îú‚îÄ‚îÄ database.properties          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
‚îÇ           ‚îî‚îÄ‚îÄ init.sql                     # SQL —Å–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î
‚îú‚îÄ‚îÄ pom.xml                                  # Maven –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md
```

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã TravelDAO

–í —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–¥–∞–Ω–∏–µ–º –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã (–í–∞—Ä–∏–∞–Ω—Ç 5), —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

1. **`Travel findEntityById(int id)`** - –ø–æ–∏—Å–∫ —Ç—É—Ä–∏—Å—Ç–∞ –ø–æ ID
2. **`List<Travel> findAll()`** - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç—É—Ä–∏—Å—Ç–æ–≤ –∏–∑ –ë–î
3. **`boolean delete(int id)`** - —É–¥–∞–ª–µ–Ω–∏–µ —Ç—É—Ä–∏—Å—Ç–∞ –ø–æ ID
4. **`boolean delete(Travel tourist)`** - —É–¥–∞–ª–µ–Ω–∏–µ —Ç—É—Ä–∏—Å—Ç–∞ –ø–æ –æ–±—ä–µ–∫—Ç—É
5. **`boolean create(Travel tourist)`** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç—É—Ä–∏—Å—Ç–∞
6. **`Travel update(Travel tourist)`** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç—É—Ä–∏—Å—Ç–∞

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∑–∞–ø—É—Å–∫—É

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MySQL
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MySQL Server —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.

#### 2. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ë–î –∏ —Ç–∞–±–ª–∏—Ü:
```bash
mysql -u root -p < src/main/resources/init.sql
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
1. –û—Ç–∫—Ä–æ–π—Ç–µ MySQL –∫–ª–∏–µ–Ω—Ç
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ —Ñ–∞–π–ª–∞ `src/main/resources/init.sql`

#### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `src/main/resources/database.properties` –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
```properties
db.driver=com.mysql.cj.jdbc.Driver
db.url=jdbc:mysql://localhost:3306/travel_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
db.user=root
db.password=root
db.name=travel_db
```

### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

#### –ß–µ—Ä–µ–∑ Maven:
```bash
# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
mvn clean compile

# –ó–∞–ø—É—Å–∫ –≥–ª–∞–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
mvn exec:java -Dexec.mainClass="by.bsuir.travel.Main"
```

#### –ß–µ—Ä–µ–∑ IDE (IntelliJ IDEA, Eclipse):
1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∫–∞–∫ Maven –ø—Ä–æ–µ–∫—Ç
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∞—Å—Å `Main.java`

### –û–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ë–î

**–¢–∞–±–ª–∏—Ü–∞: tourists**
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | INT | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (AUTO_INCREMENT) |
| first_name | VARCHAR(50) | –ò–º—è —Ç—É—Ä–∏—Å—Ç–∞ |
| last_name | VARCHAR(50) | –§–∞–º–∏–ª–∏—è —Ç—É—Ä–∏—Å—Ç–∞ |
| email | VARCHAR(100) | Email (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π) |
| phone_number | VARCHAR(20) | –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ |
| destination | VARCHAR(100) | –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ/—Å—Ç—Ä–∞–Ω–∞ |
| duration_days | INT | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç—É—Ä–∞ (–¥–Ω–∏) |
| price | DECIMAL(10,2) | –°—Ç–æ–∏–º–æ—Å—Ç—å —Ç—É—Ä–∞ |
| created_at | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ |

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```java
TravelDAO travelDAO = new TravelDAO();

// –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç—É—Ä–∏—Å—Ç–∞
Travel tourist = new Travel();
tourist.setFirstName("–ò–≤–∞–Ω");
tourist.setLastName("–ü–µ—Ç—Ä–æ–≤");
tourist.setEmail("ivan@mail.ru");
tourist.setPhoneNumber("+375291234567");
tourist.setDestination("–ü–∞—Ä–∏–∂");
tourist.setDurationDays(7);
tourist.setPrice(1500.00);
travelDAO.create(tourist);

// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç—É—Ä–∏—Å—Ç–æ–≤
List<Travel> allTourists = travelDAO.findAll();

// –ü–æ–∏—Å–∫ –ø–æ ID
Travel found = travelDAO.findEntityById(1);

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
tourist.setPrice(1600.00);
travelDAO.update(tourist);

// –£–¥–∞–ª–µ–Ω–∏–µ
travelDAO.delete(tourist.getId());
```

### –ê–≤—Ç–æ—Ä
–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–∞ "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ñ–æ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º" (–ß–∞—Å—Ç—å 2)

### –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PreparedStatement –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞—Ç—Ç–µ—Ä–Ω DAO –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –ë–î
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è ResourceBundle –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- –í—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è (try-with-resources)