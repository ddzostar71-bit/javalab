name: Laboratory Work 1 - Run

on:
  workflow_dispatch:
    inputs:
      task_number:
        description: '–ù–æ–º–µ—Ä –∑–∞–¥–∞–Ω–∏—è (1-13) –∏–ª–∏ 0 –¥–ª—è –≤—ã—Ö–æ–¥–∞'
        required: true
        default: '1'
        type: choice
        options:
          - '1'
          - '2'
          - '3'
          - '4'
          - '5'
          - '6'
          - '7'
          - '8'
          - '9'
          - '10'
          - '11'
          - '12'
          - '13'
      task_input:
        description: '–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–¥–∞–Ω–∏—è (–µ—Å–ª–∏ —Ç—Ä–µ–±—É—é—Ç—Å—è)'
        required: false
        default: ''

jobs:
  run-lab1:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout –∫–æ–¥
        uses: actions/checkout@v4

      - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Java
        uses: actions/setup-java@v4
        with:
          java-version: '17'
          distribution: 'temurin'

      - name: –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã
        run: |
          cd lab
          javac LaboratoryWork1.java
          echo "‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"

      - name: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        id: prepare_input
        run: |
          TASK=${{ github.event.inputs.task_number }}
          INPUT="${{ github.event.inputs.task_input }}"

          # –§–æ—Ä–º–∏—Ä—É–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–¥–∞–Ω–∏—è
          case $TASK in
            1)
              # –ó–∞–¥–∞–Ω–∏–µ 1: –°—Ç–µ–ø–µ–Ω–∏ —á–∏—Å–ª–∞
              if [ -z "$INPUT" ]; then INPUT="5"; fi
              echo "$TASK" > input.txt
              echo "$INPUT" >> input.txt
              echo "0" >> input.txt
              ;;
            2)
              # –ó–∞–¥–∞–Ω–∏–µ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è
              echo "$TASK" > input.txt
              echo "1234" >> input.txt
              echo "0" >> input.txt
              ;;
            3)
              # –ó–∞–¥–∞–Ω–∏–µ 3: –°—É–º–º–∞ n-–∑–Ω–∞—á–Ω—ã—Ö —á–∏—Å–µ–ª
              if [ -z "$INPUT" ]; then INPUT="2"; fi
              echo "$TASK" > input.txt
              echo "$INPUT" >> input.txt
              echo "0" >> input.txt
              ;;
            4)
              # –ó–∞–¥–∞–Ω–∏–µ 4: –£–≥–∞–¥–∞–π —á–∏—Å–ª–æ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–æ–ø—ã—Ç–∫–∏)
              echo "$TASK" > input.txt
              for i in {1..10}; do echo "$i" >> input.txt; done
              echo "0" >> input.txt
              ;;
            5|6|7|8|9|10)
              # –ó–∞–¥–∞–Ω–∏—è –±–µ–∑ –≤–≤–æ–¥–∞
              echo "$TASK" > input.txt
              echo "0" >> input.txt
              ;;
            11)
              # –ó–∞–¥–∞–Ω–∏–µ 11: –ú–∞—Å—Å–∏–≤—ã —Å —á–µ—Ç–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
              if [ -z "$INPUT" ]; then INPUT="10"; fi
              echo "$TASK" > input.txt
              echo "$INPUT" >> input.txt
              echo "0" >> input.txt
              ;;
            12|13)
              # –ó–∞–¥–∞–Ω–∏—è –±–µ–∑ –≤–≤–æ–¥–∞
              echo "$TASK" > input.txt
              echo "0" >> input.txt
              ;;
          esac

      - name: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã
        run: |
          cd lab
          echo "üöÄ –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞–Ω–∏—è ${{ github.event.inputs.task_number }}..."
          echo "================================================"
          java LaboratoryWork1 < ../input.txt || true
          echo "================================================"
          echo "‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ"

      - name: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–¥–∞–Ω–∏–∏
        run: |
          TASK=${{ github.event.inputs.task_number }}
          echo "üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–¥–∞–Ω–∏–∏ $TASK:"
          case $TASK in
            1) echo "–°—Ç–µ–ø–µ–Ω–∏ —á–∏—Å–ª–∞ - –≤—ã–≤–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–µ —á–µ—Ç—ã—Ä–µ —Å—Ç–µ–ø–µ–Ω–∏ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞";;
            2) echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è - –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–∞—Ä–æ–ª—å –¥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞";;
            3) echo "–°—É–º–º–∞ n-–∑–Ω–∞—á–Ω—ã—Ö —á–∏—Å–µ–ª - –Ω–∞—Ö–æ–¥–∏—Ç —Å—É–º–º—É –≤—Å–µ—Ö n-–∑–Ω–∞—á–Ω—ã—Ö —á–∏—Å–µ–ª";;
            4) echo "–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ - –∏–≥—Ä–∞ –Ω–∞ —É–≥–∞–¥—ã–≤–∞–Ω–∏–µ —á–∏—Å–ª–∞ –æ—Ç 1 –¥–æ 10";;
            5) echo "–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–∏—Å–µ–ª - –≤—ã–≤–æ–¥–∏—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å 1000, 1003, 1006...";;
            6) echo "–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –§–∏–±–æ–Ω–∞—á—á–∏ - –ø–µ—Ä–≤—ã–µ 11 —á–ª–µ–Ω–æ–≤";;
            7) echo "–°—á–∞—Å—Ç–ª–∏–≤—ã–µ –±–∏–ª–µ—Ç—ã - –ø–æ–¥—Å—á–µ—Ç —Å—á–∞—Å—Ç–ª–∏–≤—ã—Ö –±–∏–ª–µ—Ç–æ–≤";;
            8) echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä–≤–∞–ª - —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª";;
            9) echo "–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä —Å–µ–∫—É–Ω–¥ - –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å–µ–∫—É–Ω–¥—ã –≤ —á–∞—Å—ã";;
            10) echo "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞ - –ø–æ–∏—Å–∫ –º–∞–∫—Å–∏–º—É–º–∞ –∏ –µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞";;
            11) echo "–ú–∞—Å—Å–∏–≤—ã —Å —á–µ—Ç–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–µ—Ç–Ω—ã—Ö —á–∏—Å–µ–ª";;
            12) echo "–ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ç–∞–±–ª–∏—Ü—ã —É–º–Ω–æ–∂–µ–Ω–∏—è - 15 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤";;
            13) echo "–ú–∞—Ç—Ä–∏—Ü–∞ —Å –∑–∞–º–µ–Ω–æ–π —ç–ª–µ–º–µ–Ω—Ç–æ–≤ - –∑–∞–º–µ–Ω–∞ min –∏ max –≤ —Å—Ç—Ä–æ–∫–∞—Ö";;
          esac
